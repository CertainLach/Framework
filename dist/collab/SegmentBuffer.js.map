{"version":3,"file":"SegmentBuffer.js","sourceRoot":"","sources":["../../packages/collab/SegmentBuffer.ts"],"names":[],"mappings":"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"}